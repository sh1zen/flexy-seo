"use strict";function SHZNSemaphore(){let t=[];this.release=function(e="def"){t[e]=!1},this.lock=function(e="def"){t[e]=!0},this.is_locked=function(e="def"){return!0===t[e]}}let shzn_semaphore=new SHZNSemaphore;function shzn_is_json(t){try{return JSON.parse(t)}catch(t){return!1}}function shzn_ajaxHandler(t){t=Object.assign({action:"shzn",mod:"none",mod_action:"none",mod_nonce:"",mod_args:"",mod_form:"",use_loading:!1,callback:null},t),shzn_semaphore.lock(t.mod_action),t.use_loading&&t.use_loading.addClass("shzn-loader"),jQuery.ajax({url:ajaxurl,type:"GET",dataType:"json",global:!1,cache:!1,data:{action:t.action,mod:t.mod,mod_action:t.mod_action,mod_nonce:t.mod_nonce,mod_args:t.mod_args,mod_form:t.mod_form},complete:function(e,n){if("function"==typeof t.callback){let n=shzn_is_json(e.responseText);n||(n=e.responseText),void 0!==n.data?setTimeout(t.callback(n.data,n.success),100):setTimeout(t.callback(n,n.success),100)}t.use_loading&&t.use_loading.removeClass("shzn-loader"),shzn_semaphore.release(t.mod_action)}})}!function(t){let e=t(window),n=t("document"),a=t("body");t.fn.shznNotice=function(e,n,a){let i=t(this);n?e.length>0?i.append(e):i.append("<p class='success'>"+a.success+"</p>"):e.length>0?i.append("<p class='error'>"+e+"</p>"):i.append("<p class='error'>"+a.error+"</p>")};function i(e,n=!0,a=!0){t('.shzn *[data-parent*="'+e+'"]').each(function(){let e=t(this),s=e,r="!"===e.data("parent").charAt(0)?!n:n;e.hasClass("shzn-separator")||(s=e.closest("tr")),e.is("input")&&e.prop("readonly",!r),a&&this.id&&i(this.id,n,a),r?s.removeClass("shzn-disabled-blur"):s.addClass("shzn-disabled-blur")})}n.ready(function(){let e;t(".shzn-uploader__init").on("click",function(n){n.preventDefault();let a=t(this);e?e.open():e=wp.media({title:"Upload media",library:{type:a.data("type")||"image"},multiple:!1}).on("select",function(t){let n=e.state().get("selection").first().toJSON().url;a.parent().find("input").val(n)}).open()}),t(".shzn-progressbarCircle").each((e,n)=>{let a=t(n),i=a.data("percent")||0,s=a.data("color")||"var(--main-dark-color)",r=a.data("size")||100,l=a.data("stroke")||1;a.html(function(t,e,n,a){return`<svg class="shzn-progressbarCircle__chart" viewbox="0 0 36 36" width="${n}" height="${n}" xmlns="http://www.w3.org/2000/svg">\n        <path class="shzn-progressbarCircle__bg" stroke="#eeeeee" stroke-width="${.5*a}" fill="none" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>\n        <path class="shzn-progressbarCircle__stroke" stroke="${e}" stroke-width="${a}" stroke-dasharray="${t},100" stroke-linecap="round" fill="none" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />\n        <text class="shzn-progressbarCircle__info" x="50%" y="50%" alignment-baseline="central" text-anchor="middle" font-size="8">${t}%</text></svg>`}(i,s,r,l))}),t(".shzn-collapse-handler").on("click",function(){let e=t(this);e.children(".shzn-collapse-icon").toggleClass("shzn-collapse-icon-close"),e.next().toggle(300)}),t(".shzn-dropdown").on("click",".shzn-dropdown__opener",function(e){e.preventDefault();let n=t(this).closest(".shzn-dropdown");n.find(".shzn-multiselect__wrapper").slideToggle(),n.toggleClass("is-open"),n.off("click","li"),n.on("click","li",function(e){e.stopPropagation();let a=t(this);n.find("input").val(a.data("value")),n.find(".shzn-multiselect__wrapper").slideToggle(),n.toggleClass("is-open")})}),function(e){let n=window.location.hash.substring(1);if(!(e instanceof jQuery))return void console.log("Error initializing shzn_tabHandler");if(0===e.length)return;let i=e.find(".shzn-ar-tablist");if(0===i.length)return;if(i.each(function(){let e=t(this),n=e.children(".shzn-ar-tab"),a=e.find(".shzn-ar-tab_link");e.attr("role","tablist"),n.attr("role","presentation"),a.attr("role","tab"),a.each(function(){let e=t(this),n=e.attr("href");void 0!==n&&""!==n&&"#"!==n&&e.attr({"aria-controls":n.replace("#",""),tabindex:-1,"aria-selected":"false"}),e.removeAttr("href")})}),t(".shzn-ar-tabcontent").attr({role:"tabpanel","aria-hidden":"true"}).each(function(){let e=t(this),n=e.attr("id");e.attr("aria-labelledby","lbl_"+n)}),""!==n){let e=t("#"+n+".shzn-ar-tabcontent");0!==e.length&&t("#lbl_"+n+".shzn-ar-tab_link:not([aria-disabled='true'])").length&&(e.removeAttr("aria-hidden"),t("#lbl_"+n+".shzn-ar-tab_link").attr({"aria-selected":"true",tabindex:0}),e.find("#shzn-uoptions").attr("action","options.php#"+n))}e.each(function(){let e=t(this),n=e.find('.shzn-ar-tab_link[aria-selected="true"]'),a=e.find('.shzn-ar-tab_link:not([aria-disabled="true"]):first'),i=t("#"+a.attr("aria-controls"));0===n.length&&(a.attr({"aria-selected":"true",tabindex:0}),i.removeAttr("aria-hidden"))}),a.on("click",".shzn-ar-tab_link[aria-disabled='true']",function(t){t.preventDefault()}),a.on("click",".shzn-ar-tab_link:not([aria-disabled='true'])",function(e){let n=t(this),a=n.attr("aria-controls"),i=t("#"+n.attr("aria-controls")),s=n.closest(".shzn-ar-tabs"),r=s.find(".shzn-ar-tab_link"),l=s.find(".shzn-ar-tabcontent"),o=i.find("#shzn-uoptions");r.attr({tabindex:-1,"aria-selected":"false"}),n.attr({"aria-selected":"true",tabindex:0}),l.attr("aria-hidden","true"),void 0!==o&&o.attr("action","options.php#"+a),i.removeAttr("aria-hidden"),setTimeout(function(){history.pushState(null,null,location.pathname+location.search+"#"+a)},300),e.preventDefault()}),a.on("keydown",".shzn-ar-tablist",function(e){let n=t(this).closest(".shzn-ar-tabs");if(t(document.activeElement).is(n.find(".shzn-ar-tab_link"))&&!e.ctrlKey){let t=n.find('.shzn-ar-tab_link[aria-selected="true"]').parent();if(37===e.keyCode){let a=n.find(".shzn-ar-tab:last-child .shzn-ar-tab_link"),i=t;do{i=i.is(".shzn-ar-tab:first-child")?a.parent():i.prev()}while("true"===i.children(".shzn-ar-tab_link").attr("aria-disabled")&&i!==t);i.children(".shzn-ar-tab_link").click().focus(),e.preventDefault()}else if(39===e.keyCode){let a=n.find(".shzn-ar-tab:first-child .shzn-ar-tab_link"),i=t;do{i=i.is(".shzn-ar-tab:last-child")?a.parent():i.next()}while("true"===i.children(".shzn-ar-tab_link").attr("aria-disabled")&&i!==t);i.children(".shzn-ar-tab_link").click().focus(),e.preventDefault()}}})}(t(".shzn-ar-tabs")),t(".shzn-apple-switch").each(function(){t(this).prop("checked")||i(this.id,!1),t(this).on("click",function(){let e=t(this);if(e.prop("checked")){i(this.id);let n=e.data("parent");if(void 0!==n&&""!==n){let e=t("#"+n);e.prop("checked")||e.prop("checked",!0)}}else i(this.id,!1)})})}),e.on("beforeunload",function(t){if(a.hasClass("shzn-doingAction"))return(t||window.event).returnValue=SHZN.strings.text_close_warning,SHZN.strings.text_close_warning})}(jQuery.noConflict());